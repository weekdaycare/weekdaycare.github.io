---
title: Python学习
date: 2022-08-19 14:08:26
tags:
  - 技术
  - 编程
categories:
  - 学习
abbrlink: python-study
description: 人生苦短，我学Python
---

# 变量与字符串

## 变量
1. 变量名不能以数字开头
2. 变量名区分大小写
3. 变量名可以用汉子
4. `x,y=y,x`可以实现`x,y`值互换

## 字符串

1. 用单引号或者双引号将内容引起
2. 用单还是双取决于字符串中有没有不可避免的单或双引号，以免系统误会
3. 是在不能避免单双引号冲突时，可以用转义字符代替
4. 原始字符串：转义字符需要正常使用，不作为转义字符时，可以在前面加上`r`，表示原始字符串，转义不生效
5. 长字符串：前后用三个单引号或双引号，实现跨行字符串，即不用`\n`即可做换行
6. 字符串相加就是拼接
7. 字符串乘以数字就是重复

转义符号`\`，我们一般用转义字符来表示一些不能直接显示的ASCII字符

|符号|说明|
|:---:|:---:|
|\\|反斜杠（\）|
|\'|单引号（'）|
|\"|双引号（"）|
|\a|响铃（BEL）|
|\b|退格符（BS）|
|\n|换行符（LF）|
|\t|水平制表符（TAB）|
|\v|垂直制表符（VT）|
|\r|回车符（CR）|
|\f|换页符（FF）|
|\ooo|ooo为八进制数|
|\xhh|xhh为十六进制数|

> `\`放在末尾表示该行代码未结束

<details>
<summary>示例代码</summary>

```python
print('Let\'s go')  #转义
#输出
Let's go

print("I love python.\nI love C") #换行
#输出
I love python
I love C

print("D:\\three\\two\\one") #避免冲突
或者print(r"D:\three\two\one") #原始字符串
#输出
D:\three\two\one

print("I love python\n\
···I love C")
#输出
I love python
I love C

print("""
你好呀
我不用\n就可以换行了
怎么样""")
#输出
你好呀
我不用\n就可以换行了
怎么样

"520"+"1314"  #字符串相加
#输出
'5201314'

print("I love you 3000" * 3)
#输出
I love you 3000
I love you 3000
I love you 3000
```

</details>

## 比较运算符

因为比较简单，所以并在字符串里头

<details>
<summary>比较运算符表</summary>

|   运算符   |            含义            |
| :--------: | :------------------------: |
|     <      |    判断左边是否小于右边    |
|     <=     | 判断左边是否小于或等于右边 |
|     >      |    判断左边是否大于右边    |
|     >=     | 判断左边是否大于或等于右边 |
|     ==     |    判断左右两边是否相等    |
|     !=     |   判断左右两边是否不相等   |
|     is     |  判断两个对象的id是否相等  |
|   is not   | 判断两个对象的id是否不相等 |

</details>

# 数字类型

## 浮点数

执行以下代码

```python
i = 0 
whlie i < 1:
    i = i + 0.1
    print(i)
```

得到以下结果

```python
0.1
0.2
0.30000000000000004
0.4
0.5
0.6
0.7
0.7999999999999999
0.8999999999999999
0.9999999999999999
1.0999999999999999
```

<details>
<summary>不确定尾数 来源《Python语言程序设计》</summary>

Python的浮点数具有误差是因为Python与C语言一样都是采用`IEEE754`的标准来存储浮点数的，所以会产生一定精度上的误差

![换算关系表](https://cdn.jsdelivr.net/gh/wefoox/pic/2022/08/29/16-09-31.webp)

对于小数而言，因为十进制小数与二进制小数之间并不是完全对等转换的，一般来说，一个十进制小数会转换为**无限位数**的二进制小数，但是呢，因为计算机一般只截取无限位数中**前53位**，所以造成同一个小数的十进制表示结果与二进制表示结果并不等价

![0.1用2进制表示](https://cdn.jsdelivr.net/gh/wefoox/pic/2022/08/29/16-09-35.webp)

经过两次转换就造成了不确定尾数

为了解决这个问题，我们一般会采用`round()`函数对数据进行处理

![round函数](https://cdn.jsdelivr.net/gh/wefoox/pic/2022/08/29/16-09-39.webp)

`round()`函数的格式：`round(x,d)`

其中`x`为需要被处理的数据，`d`为需要保留的小数位数，`d=0`表示取整，`d=1`表示保留一位小数，以此类推。另外，`round()`会自动**四舍五入**

特别注意，**整数+浮点数=浮点数**，如`1+3.0=4.0`。因此，需要注意不确定尾数的问题

</details>

<details>
<summary>精确计算浮点数</summary>

借助`decimal`（十进制）的模块

```python
import decimal
a = decimal.Decimal('0.1')  #实例化一个对象
b = decimal.Decimal('0.2')
print(a + b)

#输出
0.3
```

</details>

## 复数

包含一个实部与虚部，例如`1 + 2j`，`1`为实部，`2`为虚部，**无论是实部还是虚部，都是以浮点数形式存放的**，若将复数赋值给一个变量`x`，我们可以通过`x.real`获取它的实部的数值`x.imag`获取它虚部的数值

<details>
<summary>示例</summary>

```python
x = 1 + 2j
x.real

# 输出
1.0

x.imag

# 输出
2.0
```

</details>

## 数学计算

<details>
<summary>Python支持的数学计算</summary>

|操作|结果|
|:---:|:---:|
|x + y|x加y的结果|
|x - y|x减y的结果|
|x * y|x乘以y的结果|
|x / y|x除以y的结果|
|x // y|x除以y的结果（地板除）<br>（有小数就向下取整：取比目标结果小的最大整数）|
|x % y|x除以y的余数|
|-x|x的相反数|
|+x|x本身|
|abs(x)|x的绝对值<br>输入复数返回复数的模|
|int(x)|将x转换成整数|
|float(x)|将x转换成浮点数|
|complex(re , im)|返回一个复数，re是实部，im是虚部|
|c.conjugate()|返回c的共轭复数|
|divmod(x , y)|返回(x//y, x%y)<br>原理：x == (x // y) * y + (x % y)|
|pow(x , y)<br>x ** y|计算x的y次方|
|pow(x , y , z)|计算x的y次方后除以z取余<br>x ** y % z|

```python
complex(1 + 2j)
#输出
(1+2j)

complex("1+2j") #注意：括号中用引号的时候1+2j中间不能有空格！！！
#输出
(1+2j)

pow(2 , 3 , 5)
#输出
3
```

</details>

# 布尔类型

1. 定义为False的对象：`None` 和`False`
2. 值为`0`的数字类型：`0`, `0.0`, `0j`, `Decimal(0)`, `Fraction(0, 1)`
3. 空的序列和集合： `''`, `()`, `[]`, `{}`, `set()`, `range(0)`
4. 布尔类型其实就是特殊的整数类型

<details>
<summary>示例</summary>

```python
1 == True
#输出
True

0 == False
#输出
True

True + False
#输出
1

True - False
#输出
1

# True / False (0不能为除数)
```

</details>

# 逻辑运算符

Python总共有三个逻辑运算符`and`，`or`，`not`，逻辑运算也叫布尔运算，它的运算对象是**布尔类型**的对象

<details>
<summary>详细</summary>

运算符|含义
:---:|:--:
and|左边和右边同时为True，结果为True
or|左边或右边其中一个为True，结果为True 
not|如果操作数为True,结果为False<br>如果操作数为False,结果为True

</details>

Python中任何对象都能直接进行**真值测试**（测试该对象的布尔类型值为True或者False），用于`if`或者`while`语句的条件判断，也可以做为布尔逻辑运算符的操作数

## 短路逻辑

> 短路逻辑的核心思想：从左往右，只有当第一个操作数的值**无法确定**逻辑运算的结果时，才对第二个操作数进行求值。

<details>
<summary>示例</summary>

```python
(not 1) or (0 and 1) or (3 and 4) or (5 and 0) or (0 and 8 or 4)
#等价于
False or 0 or 4 or 0 or 0

#输出
4
```

</details>

## 运算符优先级

优先级|运算符|描述
:--:|:---:|:---:
1|lambda|Lambda表达式
2|if - else|条件表达式
3|or|布尔”或”
4|and|布尔“与”
5|not x|布尔“非”
6|in, not in, is, is not, <, <=, >, >=, !=, ==|成员测试，同一性测试，比较
7|\||按位或
8|^|按位异或
9|&|按位与
10|<<, >>|移位
11|+, -|加法，减法
12|*, @, /, //, %|乘法，矩阵乘法，除法，地板除，取余数
13|+x, -x, ~x|正号，负号，按位翻转
14|**|指数
15|await x|Await表达式
16|x[index], x[indexindex], x(argumes...), x.attribute|下标，切片，函数调用，属性引用
17|(expessions...), [expresions...], {key.vale...}, {expressions..}|绑定或元组显示，列表显示，字典显示，集合显示

# 分支与循环

<details>
<summary>if语句格式</summary>

```python
if condition1:
    statement(s)
elif condition2:
    statement(s)
elif condition3:
    statement(s)
···
else:
    statement(s)
```

</details>