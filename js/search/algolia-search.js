function debounce(e,t){let n;return function(...s){clearTimeout(n),n=setTimeout((()=>e.apply(this,s)),t)}}utils.js(window.searchConfig.js).then((()=>{utils.jq((()=>{const e=$("#search-input");if(0===e.length)return;const t=$("#search-result"),n=$("#search-wrapper"),s=$("#search-mask"),a=algoliasearch(window.searchConfig.appId,window.searchConfig.apiKey).initIndex(window.searchConfig.indexName),r=debounce((()=>{const s=e.val().trim(),r=e.data("filter");if(!s)return n.attr("searching","false"),void t.empty();n.attr("searching","true"),a.search(s,{hitsPerPage:window.searchConfig.hitsPerPage,attributesToHighlight:["content"],attributesToSnippet:["content:40"],highlightPreTag:'<span class="search-keyword">',highlightPostTag:"</span>",restrictSearchableAttributes:["content"]}).then((e=>{(e=>{const s=$("<ul>").addClass("search-result-list");0===e.length?n.addClass("noresult"):(n.removeClass("noresult"),e.forEach((e=>{const t=e._snippetResult.content.value,n=e.hierarchy.lvl1||"Untitled",a=$(`\n            <li>\n              <a href="${e.url}">\n                <span class='search-result-title'>${n}</span>\n                <p class="search-result-content">${t}</p>\n              </a>\n            </li>\n          `);s.append(a)}))),t.html(s)})(((e,t)=>{if(!t||"/"===t)return e;const n=new RegExp(t);return e.filter((e=>n.test(e.url)))})(e.hits,r))}))}),300);e.on("input",r),e.on("keydown",(e=>{13==e.which&&e.preventDefault()}));new MutationObserver((e=>{1===e.length&&n.toggleClass("noresult",!e[0].addedNodes.length)})).observe(t[0],{childList:!0});const i=t=>{const a=t?"fadeIn":"fadeOut";n.stop(!0,!0)[a](300),s.stop(!0,!0)[a](300),t?e.focus():c()},c=()=>{e.val(""),t.html("")};$("#search-button a").on("click",(()=>i(!0))),s.on("click",(()=>i(!1))),$("#search-close").on("click",(()=>i(!1))),$("#search-clear").on("click",c)}))}));