const util={diffDate:(t,e=!1)=>{const o=new Date,n=new Date(t),i=o.getTime()-n.getTime(),c=36e5,a=24*c;let s;if(e){const t=i/a,e=i/c,o=i/6e4;s=t>14?null:t>=1?parseInt(t)+" "+ctx.date_suffix.day:e>=1?parseInt(e)+" "+ctx.date_suffix.hour:o>=1?parseInt(o)+" "+ctx.date_suffix.min:ctx.date_suffix.just}else s=parseInt(i/a);return s},copy:(t,e)=>{const o=document.getElementById(t);o&&(o.select(),document.execCommand("Copy"),e&&e.length>0&&hud.toast(e,2500))},toggle:t=>{const e=document.getElementById(t);e&&e.classList.toggle("display")},scrollTop:()=>{window.scrollTo({top:0})},scrollComment:()=>{document.getElementById("comments").scrollIntoView()},viewportLazyload:(t,e,o=!0)=>{if(!o||!("IntersectionObserver"in window))return void e();const n=new IntersectionObserver((t=>{t[0].intersectionRatio>0&&(e(),n.disconnect())}));n.observe(t)}},hud={toast:(t,e)=>{const o=Number(isNaN(e)?2e3:e);var n=document.createElement("div");n.classList.add("toast"),n.classList.add("show"),n.innerHTML=t,document.body.appendChild(n),setTimeout((function(){document.body.removeChild(n)}),o)}},l_body=document.querySelector(".l_body"),init={toc:()=>{utils.jq((()=>{var t=[];$("article.md-text :header").each((function(e,o){t.push(o)}));var e=null;window.addEventListener("scroll",(function(){!function(){var e=$(this).scrollTop(),o=null;for(var n in t){var i=$(t[n]);i.offset().top>e+32||(o?i.offset().top>=o.offset().top&&(o=i):o=i)}if(o){$("#data-toc a.toc-link").removeClass("active");var c="#"+o.attr("id");if("#undefined"!=c){const t=$('#data-toc a.toc-link[href="'+encodeURI(c)+'"]');t.length>0&&t.addClass("active")}else $("#data-toc a.toc-link:first").addClass("active")}}(),null!==e&&clearTimeout(e),e=setTimeout(function(){!function(){const t=document.querySelector("#data-toc .toc"),e=document.querySelector("#data-toc .toc a.toc-link.active");if(null==t||null==e)return;const o=e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+100,n=e.getBoundingClientRect().top-t.getBoundingClientRect().top-64;n<0?t.scrollBy({top:n,behavior:"smooth"}):o>0&&t.scrollBy({top:o,behavior:"smooth"})}()}.bind(this),50)}))}))},sidebar:()=>{utils.jq((()=>{$("#data-toc a.toc-link").click((function(t){sidebar.dismiss()}))}))},relativeDate:t=>{t.forEach((t=>{const e=t,o=e.getAttribute("datetime");let n=util.diffDate(o,!0);n&&(e.innerText=n)}))},registerTabsTag:function(){document.querySelectorAll(".tabs .nav-tabs .tab").forEach((t=>{t.addEventListener("click",(e=>{if(e.preventDefault(),t.classList.contains("active"))return;[...t.parentNode.children].forEach((e=>{e.classList.toggle("active",e===t)}));const o=document.getElementById(t.querySelector("a").getAttribute("href").replace("#",""));[...o.parentNode.children].forEach((t=>{t.classList.toggle("active",t===o)})),o.dispatchEvent(new Event("tabs:click",{bubbles:!0}))}))})),window.dispatchEvent(new Event("tabs:register"))}};init.toc(),init.sidebar(),init.relativeDate(document.querySelectorAll("#post-meta time")),init.registerTabsTag();