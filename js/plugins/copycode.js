function addCopyButtons(){window.codeElements.forEach((t=>{const e=document.createElement("div");e.className="copy-btn",e.textContent=ctx.copycode.default_text,t.appendChild(e)}))}addCopyButtons(),document.addEventListener("click",(async t=>{if(t.target.classList.contains("copy-btn")){const e=t.target.closest(".code"),c=e.querySelector("pre")?.innerText||"";if(navigator.clipboard)try{await navigator.clipboard.writeText(c),t.target.textContent=ctx.copycode.success_text,t.target.classList.add("success"),hud.toast(ctx.copycode.toast,2500)}catch(e){t.target.textContent="未获得用户许可",t.target.classList.add("warning")}else t.target.textContent="浏览器不支持/非HTTPS",t.target.classList.add("warning");setTimeout((()=>{t.target.textContent=ctx.copycode.default_text,t.target.classList.remove("success","warning")}),3e3)}}));