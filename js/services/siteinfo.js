function setCardLink(t){(t="forEach"in(t||{})?t:document.querySelectorAll("a[cardlink]")).forEach((t=>{if(1!==t.nodeType)return;t.removeAttribute("cardlink");const e=t.getAttribute("api");if(null==e)return;const n=t.hasAttribute("lazyload");util.viewportLazyload(t,(()=>{fetch(e).then((function(t){if(t.ok)return t.json();throw new Error("Network response was not ok.")})).then((function(e){var n=[];const r=t.getAttribute("autofill");r&&(n=r.split(",")),e.title&&e.title.length>0&&n.includes("title")&&(t.querySelector(".title").innerHTML=e.title,t.title=e.title),e.icon&&e.icon.length>0&&n.includes("icon")&&(t.querySelector(".img").style='background-image: url("'+e.icon+'");',t.querySelector(".img").setAttribute("data-bg",e.icon));let i=t.querySelector(".desc");i&&e.desc&&e.desc.length>0&&n.includes("desc")&&(i.innerHTML=e.desc)})).catch((function(t){console.error(t)}))}),n)}))}