utils.jq((()=>{$((function(){const e=document.getElementsByClassName("ds-waline");for(var t=0;t<e.length;t++){const n=e[t],a=parseInt(n.getAttribute("limit"))||10,r=n.getAttribute("api");if(null==r)continue;const s=r+"/comment?type=recent&count="+a,i=def.avatar;utils.request(n,s,(function(e){e.forEach(((e,t)=>{var a='<div class="timenode" index="'+t+'">';a+='<div class="header">',a+='<div class="user-info">',a+='<img src="'+(e.avatar||i)+'" onerror="javascript:this.src=\''+i+"';\">",a+="<span>"+e.nick+"</span>",a+="</div>",a+="<span>"+new Date(e.time).toLocaleString()+"</span>",a+="</div>",a+='<a class="body" href="'+e.url+"#"+e.objectId+'" target="_blank" rel="external nofollow noopener noreferrer">',a+=e.comment.replace(/<a\b[^>]*>(.*?)<\/a>/g,"$1"),a+="</a>",a+="</div>",$(n).append(a)}))}))}}))}));